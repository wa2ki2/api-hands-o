# 機能要件 (requirements)

概要
- Azure 上の Azure Functions（Consumption Plan）として、HTTP GET API を 2 つ提供する。リージョンは Azure 東日本。

基本仕様
- 実行環境: Azure Functions (Consumption Plan)
- リージョン: Azure 東日本
- 開発言語: Python 3.11
- エンドポイント:
  - GET /multiply
  - GET /divide
- 受け取り方法: クエリストリングでパラメータ A, B を受け取る（例: /multiply?A=3&B=4）
- 入力の型: A, B は整数のみを扱う。クエリで小数が渡された場合は小数部を切り捨て（floor ではなく小数点以下を単純に切り捨て）して整数に変換する。
- 出力形式: ブラウザで直接表示可能なプレーンテキスト（Content-Type: text/plain）。成功時は計算結果のみを返す。
- エラー時の挙動: 常に HTTP ステータスコード 200 を返す。エラー詳細はプレーンテキストの本文に記載する。

具体的な動作
- /multiply
  - 動作: A × B を計算して結果をプレーンテキストで返す。
  - 例: GET /multiply?A=3&B=4 → レスポンス本文: "12"

- /divide
  - 動作: A を B で除算して結果を返す。入力 A,B は整数に整形した後に除算を行う。除算結果は浮動小数点数（必要なら小数）で返す。
  - ゼロ除算: B が 0 の場合はエラー扱いとし、本文にエラーメッセージ（例: "Error: division by zero"）を返す。HTTP ステータスは 200 のまま。
  - 例: GET /divide?A=7&B=2 → レスポンス本文: "3.5"

入力バリデーションとエラーメッセージ（共通）
- A または B が指定されていない場合: "Error: parameter A is required" 等の明確なプレーンテキストを返す。
- A または B が数値として解釈できない場合: "Error: parameter A must be a number" 等の明確なプレーンテキストを返す。
- 小数が渡された場合: 小数部を切り捨てた旨を明記する必要はないが、デバッグ目的でログに記録すること。

アクセプタンス基準
- ブラウザでエンドポイントにアクセスすると、本文に計算結果またはエラーメッセージが表示される。
- 指定したリージョン・ランタイム・プランでデプロイ可能であること（詳細な Azure リソース名は未指定）。

デプロイ／開発補足（任意）
- ローカル開発は Azure Functions Core Tools を使用して行うことを想定する。
- 依存管理は requirements.txt を使用する。
- 公開範囲はパブリック（認証なし）。

（注）非機能要件は別ファイルに記載する。
